# ==============================================================================
# Railway Configuration - Rede Auto Fácil CMS (Strapi)
# ==============================================================================
# Documentação: https://docs.railway.app/reference/config-as-code
# ==============================================================================

[build]
# Comando de build
builder = "nixpacks"
buildCommand = "npm run build"

[deploy]
# Comando de start
startCommand = "npm run start"

# Health check
healthcheckPath = "/"
healthcheckTimeout = 300

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Número de réplicas (staging = 1, produção pode aumentar)
numReplicas = 1

[service]
# Nome do serviço no Railway
name = "redeautofacil-cms"

# Porta interna (Railway mapeia automaticamente)
internalPort = 1337
